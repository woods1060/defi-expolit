!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).prettierPlugins=e.prettierPlugins||{},e.prettierPlugins.yaml=t())}(this,(function(){"use strict";var e=function(e,t){const n=new SyntaxError(e+" ("+t.start.line+":"+t.start.column+")");return n.loc=t,n};var t={isPragma:function(e){return/^\s*@(?:prettier|format)\s*$/.test(e)},hasPragma:function(e){return/^\s*#[^\S\n]*@(?:prettier|format)\s*?(?:\n|$)/.test(e)},insertPragma:function(e){return`# @format\n\n${e}`}};var n={locStart:function(e){return e.position.start.offset},locEnd:function(e){return e.position.end.offset}},r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){var t={exports:{}};return e(t,t.exports),t.exports
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */}var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function u(e){return this instanceof u?(this.v=e,this):new u(e)}var l,f,h=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return s},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:a,__read:c,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},__await:u,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof u?Promise.resolve(n.value.v).then(c,l):f(i[0][2],n)}catch(e){f(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:u(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),p=o((function(e,t){var n="\n",r=function(){function e(e){this.string=e;for(var t=[0],r=0;r<e.length;)switch(e[r]){case n:r+=n.length,t.push(r);break;case"\r":e[r+="\r".length]===n&&(r+=n.length),t.push(r);break;default:r++}this.offsets=t}return e.prototype.locationForIndex=function(e){if(e<0||e>this.string.length)return null;for(var t=0,n=this.offsets;n[t+1]<=e;)t++;return{line:t,column:e-n[t]}},e.prototype.indexForLocation=function(e){var t=e.line,n=e.column;return t<0||t>=this.offsets.length||n<0||n>this.lengthOfLine(t)?null:this.offsets[t]+n},e.prototype.lengthOfLine=function(e){var t=this.offsets[e];return(e===this.offsets.length-1?this.string.length:this.offsets[e+1])-t},e}();t.__esModule=!0,t.default=r})),d=function(e){return e&&e.Math==Math&&e},g=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof r&&r)||function(){return this}()||Function("return this")(),m=function(e){try{return!!e()}catch(e){return!0}},y=!m((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),v={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,w={f:b&&!v.call({1:2},1)?function(e){var t=b(this,e);return!!t&&t.enumerable}:v},_=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},E={}.toString,S="".split,O=m((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==function(e){return E.call(e).slice(8,-1)}(e)?S.call(e,""):Object(e)}:Object,A=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},M=function(e){return O(A(e))},L=function(e){return"object"==typeof e?null!==e:"function"==typeof e},N=function(e){return"function"==typeof e?e:void 0},T=function(e,t){return arguments.length<2?N(g[e]):g[e]&&g[e][t]},P=T("navigator","userAgent")||"",C=g.process,x=g.Deno,R=C&&C.versions||x&&x.version,I=R&&R.v8;I?f=(l=I.split("."))[0]<4?1:l[0]+l[1]:P&&(!(l=P.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=P.match(/Chrome\/(\d+)/))&&(f=l[1]);var k,B=f&&+f,Y=!!Object.getOwnPropertySymbols&&!m((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&B&&B<41})),j=Y&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$=j?function(e){return"symbol"==typeof e}:function(e){var t=T("Symbol");return"function"==typeof t&&Object(e)instanceof t},D=function(e,t){try{Object.defineProperty(g,e,{value:t,configurable:!0,writable:!0})}catch(n){g[e]=t}return t},F="__core-js_shared__",U=g[F]||D(F,{}),W=o((function(e){(e.exports=function(e,t){return U[e]||(U[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.2",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),K=function(e){return Object(A(e))},V={}.hasOwnProperty,Q=Object.hasOwn||function(e,t){return V.call(K(e),t)},q=0,J=Math.random(),G=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++q+J).toString(36)},H=W("wks"),z=g.Symbol,Z=j?z:z&&z.withoutSetter||G,X=(Q(H,k="toPrimitive")&&(Y||"string"==typeof H[k])||(Y&&Q(z,k)?H[k]=z[k]:H[k]=Z("Symbol."+k)),H[k]),ee=function(e,t){if(!L(e)||$(e))return e;var n,r=e[X];if(void 0!==r){if(void 0===t&&(t="default"),n=r.call(e,t),!L(n)||$(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&"function"==typeof(n=e.toString)&&!L(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!L(r=n.call(e)))return r;if("string"!==t&&"function"==typeof(n=e.toString)&&!L(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(e,t)},te=function(e){var t=ee(e,"string");return $(t)?t:String(t)},ne=g.document,re=L(ne)&&L(ne.createElement),oe=!y&&!m((function(){return 7!=Object.defineProperty((e="div",re?ne.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),ie=Object.getOwnPropertyDescriptor,se={f:y?ie:function(e,t){if(e=M(e),t=te(t),oe)try{return ie(e,t)}catch(e){}if(Q(e,t))return _(!w.f.call(e,t),e[t])}},ae=function(e){if(!L(e))throw TypeError(String(e)+" is not an object");return e},ce=Object.defineProperty,ue={f:y?ce:function(e,t,n){if(ae(e),t=te(t),ae(n),oe)try{return ce(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},le=y?function(e,t,n){return ue.f(e,t,_(1,n))}:function(e,t,n){return e[t]=n,e},fe=Function.toString;"function"!=typeof U.inspectSource&&(U.inspectSource=function(e){return fe.call(e)});var he,pe,de,ge,me=U.inspectSource,ye=g.WeakMap,ve="function"==typeof ye&&/native code/.test(me(ye)),be=W("keys"),we={},_e="Object already initialized",Ee=g.WeakMap;if(ve||U.state){var Se=U.state||(U.state=new Ee),Oe=Se.get,Ae=Se.has,Me=Se.set;he=function(e,t){if(Ae.call(Se,e))throw new TypeError(_e);return t.facade=e,Me.call(Se,e,t),t},pe=function(e){return Oe.call(Se,e)||{}},de=function(e){return Ae.call(Se,e)}}else{var Le=be[ge="state"]||(be[ge]=G(ge));we[Le]=!0,he=function(e,t){if(Q(e,Le))throw new TypeError(_e);return t.facade=e,le(e,Le,t),t},pe=function(e){return Q(e,Le)?e[Le]:{}},de=function(e){return Q(e,Le)}}var Ne,Te,Pe={set:he,get:pe,has:de,enforce:function(e){return de(e)?pe(e):he(e,{})},getterFor:function(e){return function(t){var n;if(!L(t)||(n=pe(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ce=o((function(e){var t=Pe.get,n=Pe.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var s,a=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||Q(o,"name")||le(o,"name",t),(s=n(o)).source||(s.source=r.join("string"==typeof t?t:""))),e!==g?(a?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=o:le(e,t,o)):c?e[t]=o:D(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||me(this)}))})),xe=Math.ceil,Re=Math.floor,Ie=function(e){return isNaN(e=+e)?0:(e>0?Re:xe)(e)},ke=Math.min,Be=function(e){return e>0?ke(Ie(e),9007199254740991):0},Ye=Math.max,je=Math.min,$e=function(e){return function(t,n,r){var o,i=M(t),s=Be(i.length),a=function(e,t){var n=Ie(e);return n<0?Ye(n+t,0):je(n,t)}(r,s);if(e&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===n)return e||a||0;return!e&&-1}},De={includes:$e(!0),indexOf:$e(!1)}.indexOf,Fe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),Ue={f:Object.getOwnPropertyNames||function(e){return function(e,t){var n,r=M(e),o=0,i=[];for(n in r)!Q(we,n)&&Q(r,n)&&i.push(n);for(;t.length>o;)Q(r,n=t[o++])&&(~De(i,n)||i.push(n));return i}(e,Fe)}},We={f:Object.getOwnPropertySymbols},Ke=T("Reflect","ownKeys")||function(e){var t=Ue.f(ae(e)),n=We.f;return n?t.concat(n(e)):t},Ve=function(e,t){for(var n=Ke(t),r=ue.f,o=se.f,i=0;i<n.length;i++){var s=n[i];Q(e,s)||r(e,s,o(t,s))}},Qe=/#|\.prototype\./,qe=function(e,t){var n=Ge[Je(e)];return n==ze||n!=He&&("function"==typeof t?m(t):!!t)},Je=qe.normalize=function(e){return String(e).replace(Qe,".").toLowerCase()},Ge=qe.data={},He=qe.NATIVE="N",ze=qe.POLYFILL="P",Ze=qe,Xe=se.f,et=function(e){if($(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)},tt=Math.floor,nt=function(e,t){var n=e.length,r=tt(n/2);return n<8?rt(e,t):ot(nt(e.slice(0,r),t),nt(e.slice(r),t),t)},rt=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},ot=function(e,t,n){for(var r=e.length,o=t.length,i=0,s=0,a=[];i<r||s<o;)i<r&&s<o?a.push(n(e[i],t[s])<=0?e[i++]:t[s++]):a.push(i<r?e[i++]:t[s++]);return a},it=nt,st=P.match(/firefox\/(\d+)/i),at=!!st&&+st[1],ct=/MSIE|Trident/.test(P),ut=P.match(/AppleWebKit\/(\d+)\./),lt=!!ut&&+ut[1],ft=[],ht=ft.sort,pt=m((function(){ft.sort(void 0)})),dt=m((function(){ft.sort(null)})),gt=!!(Te=[]["sort"])&&m((function(){Te.call(null,Ne||function(){throw 1},1)})),mt=!m((function(){if(B)return B<70;if(!(at&&at>3)){if(ct)return!0;if(lt)return lt<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)ft.push({k:t+r,v:n})}for(ft.sort((function(e,t){return t.v-e.v})),r=0;r<ft.length;r++)t=ft[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));!function(e,t){var n,r,o,i,s,a=e.target,c=e.global,u=e.stat;if(n=c?g:u?g[a]||D(a,{}):(g[a]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(s=Xe(n,r))&&s.value:n[r],!Ze(c?r:a+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ve(i,o)}(e.sham||o&&o.sham)&&le(i,"sham",!0),Ce(n,r,i,e)}}({target:"Array",proto:!0,forced:pt||!dt||!gt||!mt},{sort:function(e){void 0!==e&&function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e);var t=K(this);if(mt)return void 0===e?ht.call(t):ht.call(t,e);var n,r,o=[],i=Be(t.length);for(r=0;r<i;r++)r in t&&o.push(t[r]);for(n=(o=it(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:et(t)>et(n)?1:-1}}(e))).length,r=0;r<n;)t[r]=o[r++];for(;r<i;)delete t[r++];return t}});var yt=function e(t,n){void 0===n&&(n=null),"children"in t&&t.children.forEach((function(n){return e(n,t)})),"anchor"in t&&t.anchor&&e(t.anchor,t),"tag"in t&&t.tag&&e(t.tag,t),"leadingComments"in t&&t.leadingComments.forEach((function(n){return e(n,t)})),"middleComments"in t&&t.middleComments.forEach((function(n){return e(n,t)})),"indicatorComment"in t&&t.indicatorComment&&e(t.indicatorComment,t),"trailingComment"in t&&t.trailingComment&&e(t.trailingComment,t),"endComments"in t&&t.endComments.forEach((function(n){return e(n,t)})),Object.defineProperty(t,"_parent",{value:n,enumerable:!1})},vt=Object.defineProperty({defineParents:yt},"__esModule",{value:!0});var bt=function(e){return e.line+":"+e.column},wt=Object.defineProperty({getPointText:bt},"__esModule",{value:!0});var _t=function(e){vt.defineParents(e);var t=function(e){for(var t=Array.from(new Array(e.position.end.line),(function(){return{}})),n=0,r=e.comments;n<r.length;n++){var o=r[n];t[o.position.start.line-1].comment=o}return Et(t,e),t}(e),n=e.children.slice();e.comments.sort((function(e,t){return e.position.start.offset-t.position.end.offset})).filter((function(e){return!e._parent})).forEach((function(e){for(;n.length>1&&e.position.start.line>n[0].position.end.line;)n.shift();!function(e,t,n){var r=e.position.start.line,o=t[r-1].trailingAttachableNode;if(o){if(o.trailingComment)throw new Error("Unexpected multiple trailing comment at "+wt.getPointText(e.position.start));return vt.defineParents(e,o),void(o.trailingComment=e)}for(var i=r;i>=n.position.start.line;i--){var s=t[i-1].trailingNode,a=void 0;if(s)a=s;else{if(i===r||!t[i-1].comment)continue;a=t[i-1].comment._parent}if("sequence"!==a.type&&"mapping"!==a.type||(a=a.children[0]),"mappingItem"===a.type){var c=a.children,u=c[0],l=c[1];a=Ot(u)?u:l}for(;;){if(St(a,e))return vt.defineParents(e,a),void a.endComments.push(e);if(!a._parent)break;a=a._parent}break}for(i=r+1;i<=n.position.end.line;i++){var f=t[i-1].leadingAttachableNode;if(f)return vt.defineParents(e,f),void f.leadingComments.push(e)}var h=n.children[1];vt.defineParents(e,h),h.endComments.push(e)}(e,t,n[0])}))};function Et(e,t){if(t.position.start.offset!==t.position.end.offset){if("leadingComments"in t){var n=t.position.start,r=e[n.line-1].leadingAttachableNode;(!r||n.column<r.position.start.column)&&(e[n.line-1].leadingAttachableNode=t)}if("trailingComment"in t&&t.position.end.column>1&&"document"!==t.type&&"documentHead"!==t.type){var o=t.position.end,i=e[o.line-1].trailingAttachableNode;(!i||o.column>=i.position.end.column)&&(e[o.line-1].trailingAttachableNode=t)}if("root"!==t.type&&"document"!==t.type&&"documentHead"!==t.type&&"documentBody"!==t.type)for(var s=t.position,a=(n=s.start,0),c=[(o=s.end).line].concat(n.line===o.line?[]:n.line);a<c.length;a++){var u=c[a],l=e[u-1].trailingNode;(!l||o.column>=l.position.end.column)&&(e[u-1].trailingNode=t)}"children"in t&&t.children.forEach((function(t){Et(e,t)}))}}function St(e,t){if(e.position.start.offset<t.position.start.offset&&e.position.end.offset>t.position.end.offset)switch(e.type){case"flowMapping":case"flowSequence":return 0===e.children.length||t.position.start.line>e.children[e.children.length-1].position.end.line}if(t.position.end.offset<e.position.end.offset)return!1;switch(e.type){case"sequenceItem":return t.position.start.column>e.position.start.column;case"mappingKey":case"mappingValue":return t.position.start.column>e._parent.position.start.column&&(0===e.children.length||1===e.children.length&&"blockFolded"!==e.children[0].type&&"blockLiteral"!==e.children[0].type)&&("mappingValue"===e.type||Ot(e));default:return!1}}function Ot(e){return e.position.start!==e.position.end&&(0===e.children.length||e.position.start.offset!==e.children[0].position.start.offset)}var At=Object.defineProperty({attachComments:_t},"__esModule",{value:!0});var Mt=function(e,t){return{type:e,position:t}},Lt=Object.defineProperty({createNode:Mt},"__esModule",{value:!0});var Nt=function(e,t,n){return h.__assign(h.__assign({},Lt.createNode("root",e)),{children:t,comments:n})},Tt=Object.defineProperty({createRoot:Nt},"__esModule",{value:!0});var Pt=function e(t){switch(t.type){case"DOCUMENT":for(var n=t.contents.length-1;n>=0;n--)"BLANK_LINE"===t.contents[n].type?t.contents.splice(n,1):e(t.contents[n]);for(n=t.directives.length-1;n>=0;n--)"BLANK_LINE"===t.directives[n].type&&t.directives.splice(n,1);break;case"FLOW_MAP":case"FLOW_SEQ":case"MAP":case"SEQ":for(n=t.items.length-1;n>=0;n--){var r=t.items[n];"char"in r||("BLANK_LINE"===r.type?t.items.splice(n,1):e(r))}break;case"MAP_KEY":case"MAP_VALUE":case"SEQ_ITEM":t.node&&e(t.node);break;case"ALIAS":case"BLANK_LINE":case"BLOCK_FOLDED":case"BLOCK_LITERAL":case"COMMENT":case"DIRECTIVE":case"PLAIN":case"QUOTE_DOUBLE":case"QUOTE_SINGLE":break;default:throw new Error("Unexpected node type "+JSON.stringify(t.type))}},Ct=Object.defineProperty({removeCstBlankLine:Pt},"__esModule",{value:!0});var xt=function(){return{leadingComments:[]}},Rt=Object.defineProperty({createLeadingCommentAttachable:xt},"__esModule",{value:!0});var It=function(e){return void 0===e&&(e=null),{trailingComment:e}},kt=Object.defineProperty({createTrailingCommentAttachable:It},"__esModule",{value:!0});var Bt=function(){return h.__assign(h.__assign({},Rt.createLeadingCommentAttachable()),kt.createTrailingCommentAttachable())},Yt=Object.defineProperty({createCommentAttachable:Bt},"__esModule",{value:!0});var jt=function(e,t,n){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("alias",e)),Yt.createCommentAttachable()),t),{value:n})},$t=Object.defineProperty({createAlias:jt},"__esModule",{value:!0});var Dt=function(e,t){var n=e.cstNode;return $t.createAlias(t.transformRange({origStart:n.valueRange.origStart-1,origEnd:n.valueRange.origEnd}),t.transformContent(e),n.rawValue)},Ft=Object.defineProperty({transformAlias:Dt},"__esModule",{value:!0});var Ut=function(e){return h.__assign(h.__assign({},e),{type:"blockFolded"})},Wt=Object.defineProperty({createBlockFolded:Ut},"__esModule",{value:!0});var Kt=function(e,t,n,r,o,i){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("blockValue",e)),Rt.createLeadingCommentAttachable()),t),{chomping:n,indent:r,value:o,indicatorComment:i})},Vt=Object.defineProperty({createBlockValue:Kt},"__esModule",{value:!0}),Qt=o((function(e,t){var n;t.__esModule=!0,(n=t.PropLeadingCharacter||(t.PropLeadingCharacter={})).Tag="!",n.Anchor="&",n.Comment="#"}));var qt=function(e,t){return h.__assign(h.__assign({},Lt.createNode("anchor",e)),{value:t})},Jt=Object.defineProperty({createAnchor:qt},"__esModule",{value:!0});var Gt=function(e,t){return h.__assign(h.__assign({},Lt.createNode("comment",e)),{value:t})},Ht=Object.defineProperty({createComment:Gt},"__esModule",{value:!0});var zt=function(e,t,n){return{anchor:t,tag:e,middleComments:n}},Zt=Object.defineProperty({createContent:zt},"__esModule",{value:!0});var Xt=function(e,t){return h.__assign(h.__assign({},Lt.createNode("tag",e)),{value:t})},en=Object.defineProperty({createTag:Xt},"__esModule",{value:!0});var tn,nn=function(e,t,n){void 0===n&&(n=function(){return!1});for(var r=e.cstNode,o=[],i=null,s=null,a=null,c=0,u=r.props;c<u.length;c++){var l=u[c],f=t.text[l.origStart];switch(f){case Qt.PropLeadingCharacter.Tag:i=i||l,s=en.createTag(t.transformRange(l),e.tag);break;case Qt.PropLeadingCharacter.Anchor:i=i||l,a=Jt.createAnchor(t.transformRange(l),r.anchor);break;case Qt.PropLeadingCharacter.Comment:var h=Ht.createComment(t.transformRange(l),t.text.slice(l.origStart+1,l.origEnd));t.comments.push(h),!n(h)&&i&&i.origEnd<=l.origStart&&l.origEnd<=r.valueRange.origStart&&o.push(h);break;default:throw new Error("Unexpected leading character "+JSON.stringify(f))}}return Zt.createContent(s,a,o)},rn=Object.defineProperty({transformContent:nn},"__esModule",{value:!0});!function(e){e.CLIP="clip",e.STRIP="strip",e.KEEP="keep"}(tn||(tn={}));var on=function(e,t){var n=e.cstNode,r="CLIP"===n.chomping?0:1,o=n.header.origEnd-n.header.origStart-1-r!=0,i=t.transformRange({origStart:n.header.origStart,origEnd:n.valueRange.origEnd}),s=null,a=rn.transformContent(e,t,(function(e){if(!(i.start.offset<e.position.start.offset&&e.position.end.offset<i.end.offset))return!1;if(s)throw new Error("Unexpected multiple indicator comments at "+wt.getPointText(e.position.start));return s=e,!0}));return Vt.createBlockValue(i,a,tn[n.chomping],o?n.blockIndent:null,n.strValue,s)},sn=Object.defineProperty({transformAstBlockValue:on},"__esModule",{value:!0});var an=function(e,t){return Wt.createBlockFolded(sn.transformAstBlockValue(e,t))},cn=Object.defineProperty({transformBlockFolded:an},"__esModule",{value:!0});var un=function(e){return h.__assign(h.__assign({},e),{type:"blockLiteral"})},ln=Object.defineProperty({createBlockLiteral:un},"__esModule",{value:!0});var fn=function(e,t){return ln.createBlockLiteral(sn.transformAstBlockValue(e,t))},hn=Object.defineProperty({transformBlockLiteral:fn},"__esModule",{value:!0});var pn=function(e,t){return Ht.createComment(t.transformRange(e.range),e.comment)},dn=Object.defineProperty({transformComment:pn},"__esModule",{value:!0});var gn=function(e,t,n){return h.__assign(h.__assign(h.__assign({},Lt.createNode("directive",e)),Yt.createCommentAttachable()),{name:t,parameters:n})},mn=Object.defineProperty({createDirective:gn},"__esModule",{value:!0});var yn=function(e,t){for(var n=0,r=e.props;n<r.length;n++){var o=r[n],i=t.text[o.origStart];switch(i){case Qt.PropLeadingCharacter.Comment:t.comments.push(Ht.createComment(t.transformRange(o),t.text.slice(o.origStart+1,o.origEnd)));break;default:throw new Error("Unexpected leading character "+JSON.stringify(i))}}},vn=Object.defineProperty({extractPropComments:yn},"__esModule",{value:!0});var bn=function(e,t){return vn.extractPropComments(e,t),mn.createDirective(t.transformRange(e.range),e.name,e.parameters)},wn=Object.defineProperty({transformDirective:bn},"__esModule",{value:!0});var _n=function(e,t,n,r){return h.__assign(h.__assign(h.__assign({},Lt.createNode("document",e)),kt.createTrailingCommentAttachable(r)),{children:[t,n]})},En=Object.defineProperty({createDocument:_n},"__esModule",{value:!0});var Sn=function(e,t){return{start:e,end:t}};var On=function(e){return{start:e,end:e}},An=Object.defineProperty({createPosition:Sn,createEmptyPosition:On},"__esModule",{value:!0});var Mn=function(e){return void 0===e&&(e=[]),{endComments:e}},Ln=Object.defineProperty({createEndCommentAttachable:Mn},"__esModule",{value:!0});var Nn=function(e,t,n){return h.__assign(h.__assign(h.__assign({},Lt.createNode("documentBody",e)),Ln.createEndCommentAttachable(n)),{children:t?[t]:[]})},Tn=Object.defineProperty({createDocumentBody:Nn},"__esModule",{value:!0});var Pn=function(e){return e[e.length-1]},Cn=Object.defineProperty({getLast:Pn},"__esModule",{value:!0});var xn=function(e,t){var n=e.match(t);return n?n.index:-1},Rn=Object.defineProperty({getMatchIndex:xn},"__esModule",{value:!0});var In=function(e,t,n){var r,o=e.cstNode,i=function(e,t,n){for(var r=[],o=[],i=[],s=[],a=!1,c=e.contents.length-1;c>=0;c--){var u=e.contents[c];if("COMMENT"===u.type){var l=t.transformNode(u);n&&n.line===l.position.start.line?s.unshift(l):a?r.unshift(l):l.position.start.offset>=e.valueRange.origEnd?i.unshift(l):r.unshift(l)}else a=!0}if(i.length>1)throw new Error("Unexpected multiple document trailing comments at "+wt.getPointText(i[1].position.start));if(s.length>1)throw new Error("Unexpected multiple documentHead trailing comments at "+wt.getPointText(s[1].position.start));return{comments:r,endComments:o,documentTrailingComment:Cn.getLast(i)||null,documentHeadTrailingComment:Cn.getLast(s)||null}}(o,t,n),s=i.comments,a=i.endComments,c=i.documentTrailingComment,u=i.documentHeadTrailingComment,l=t.transformNode(e.contents),f=function(e,t,n){var r=Rn.getMatchIndex(n.text.slice(e.valueRange.origEnd),/^\.\.\./),o=-1===r?e.valueRange.origEnd:Math.max(0,e.valueRange.origEnd-1);"\r"===n.text[o-1]&&o--;var i=n.transformRange({origStart:null!==t?t.position.start.offset:o,origEnd:o}),s=-1===r?i.end:n.transformOffset(e.valueRange.origEnd+3);return{position:i,documentEndPoint:s}}(o,l,t),p=f.position,d=f.documentEndPoint;return(r=t.comments).push.apply(r,h.__spreadArrays(s,a)),{documentBody:Tn.createDocumentBody(p,l,a),documentEndPoint:d,documentTrailingComment:c,documentHeadTrailingComment:u}};var kn=Object.defineProperty({transformDocumentBody:In},"__esModule",{value:!0});var Bn=function(e,t,n,r){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("documentHead",e)),Ln.createEndCommentAttachable(n)),kt.createTrailingCommentAttachable(r)),{children:t})},Yn=Object.defineProperty({createDocumentHead:Bn},"__esModule",{value:!0});var jn=function(e,t){var n,r=e.cstNode,o=function(e,t){for(var n=[],r=[],o=[],i=!1,s=e.directives.length-1;s>=0;s--){var a=t.transformNode(e.directives[s]);"comment"===a.type?i?r.unshift(a):o.unshift(a):(i=!0,n.unshift(a))}return{directives:n,comments:r,endComments:o}}(r,t),i=o.directives,s=o.comments,a=o.endComments,c=function(e,t,n){var r=Rn.getMatchIndex(n.text.slice(0,e.valueRange.origStart),/---\s*$/);r>0&&!/[\r\n]/.test(n.text[r-1])&&(r=-1);var o=-1===r?{origStart:e.valueRange.origStart,origEnd:e.valueRange.origStart}:{origStart:r,origEnd:r+3};0!==t.length&&(o.origStart=t[0].position.start.offset);return{position:n.transformRange(o),endMarkerPoint:-1===r?null:n.transformOffset(r)}}(r,i,t),u=c.position,l=c.endMarkerPoint;return(n=t.comments).push.apply(n,h.__spreadArrays(s,a)),{createDocumentHeadWithTrailingComment:function(e){return e&&t.comments.push(e),Yn.createDocumentHead(u,i,a,e)},documentHeadEndMarkerPoint:l}};var $n=Object.defineProperty({transformDocumentHead:jn},"__esModule",{value:!0});var Dn=function(e,t){var n=$n.transformDocumentHead(e,t),r=n.createDocumentHeadWithTrailingComment,o=n.documentHeadEndMarkerPoint,i=kn.transformDocumentBody(e,t,o),s=i.documentBody,a=i.documentEndPoint,c=i.documentTrailingComment,u=r(i.documentHeadTrailingComment);return c&&t.comments.push(c),En.createDocument(An.createPosition(u.position.start,a),u,s,c)},Fn=Object.defineProperty({transformDocument:Dn},"__esModule",{value:!0});var Un=function(e,t,n){return h.__assign(h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("flowCollection",e)),Yt.createCommentAttachable()),Ln.createEndCommentAttachable()),t),{children:n})},Wn=Object.defineProperty({createFlowCollection:Un},"__esModule",{value:!0});var Kn=function(e,t,n){return h.__assign(h.__assign({},Wn.createFlowCollection(e,t,n)),{type:"flowMapping"})},Vn=Object.defineProperty({createFlowMapping:Kn},"__esModule",{value:!0});var Qn=function(e,t,n){return h.__assign(h.__assign(h.__assign({},Lt.createNode("flowMappingItem",e)),Rt.createLeadingCommentAttachable()),{children:[t,n]})},qn=Object.defineProperty({createFlowMappingItem:Qn},"__esModule",{value:!0});var Jn=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];i&&"type"in i&&"COMMENT"===i.type?t.comments.push(t.transformNode(i)):n.push(i)}return n},Gn=Object.defineProperty({extractComments:Jn},"__esModule",{value:!0});var Hn=function(e){var t=["?",":"].map((function(t){var n=e.find((function(e){return"char"in e&&e.char===t}));return n?{origStart:n.origOffset,origEnd:n.origOffset+1}:null}));return{additionalKeyRange:t[0],additionalValueRange:t[1]}},zn=Object.defineProperty({getFlowMapItemAdditionalRanges:Hn},"__esModule",{value:!0});var Zn=function(e,t){var n=t;return function(t){return e.slice(n,n=t)}},Xn=Object.defineProperty({createSlicer:Zn},"__esModule",{value:!0});var er=function(e){for(var t=[],n=Xn.createSlicer(e,1),r=!1,o=1;o<e.length-1;o++){var i=e[o];"char"in i&&","===i.char?(t.push(n(o)),n(o+1),r=!1):r=!0}return r&&t.push(n(e.length-1)),t},tr=Object.defineProperty({groupCstFlowCollectionItems:er},"__esModule",{value:!0});var nr=function(e,t){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("mappingKey",e)),kt.createTrailingCommentAttachable()),Ln.createEndCommentAttachable()),{children:t?[t]:[]})},rr=Object.defineProperty({createMappingKey:nr},"__esModule",{value:!0});var or=function(e,t){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("mappingValue",e)),Yt.createCommentAttachable()),Ln.createEndCommentAttachable()),{children:t?[t]:[]})},ir=Object.defineProperty({createMappingValue:or},"__esModule",{value:!0});var sr=function(e,t,n,r,o){var i=t.transformNode(e.key),s=t.transformNode(e.value),a=i||r?rr.createMappingKey(t.transformRange({origStart:r?r.origStart:i.position.start.offset,origEnd:i?i.position.end.offset:r.origStart+1}),i):null,c=s||o?ir.createMappingValue(t.transformRange({origStart:o?o.origStart:s.position.start.offset,origEnd:s?s.position.end.offset:o.origStart+1}),s):null;return n(An.createPosition(a?a.position.start:c.position.start,c?c.position.end:a.position.end),a||rr.createMappingKey(An.createEmptyPosition(c.position.start),null),c||ir.createMappingValue(An.createEmptyPosition(a.position.end),null))},ar=Object.defineProperty({transformAstPair:sr},"__esModule",{value:!0});var cr=function(e,t){var n=Gn.extractComments(e.cstNode.items,t),r=tr.groupCstFlowCollectionItems(n),o=e.items.map((function(e,n){var o=r[n],i=zn.getFlowMapItemAdditionalRanges(o),s=i.additionalKeyRange,a=i.additionalValueRange;return ar.transformAstPair(e,t,qn.createFlowMappingItem,s,a)})),i=n[0],s=Cn.getLast(n);return Vn.createFlowMapping(t.transformRange({origStart:i.origOffset,origEnd:s.origOffset+1}),t.transformContent(e),o)},ur=Object.defineProperty({transformFlowMap:cr},"__esModule",{value:!0});var lr=function(e,t,n){return h.__assign(h.__assign({},Wn.createFlowCollection(e,t,n)),{type:"flowSequence"})},fr=Object.defineProperty({createFlowSequence:lr},"__esModule",{value:!0});var hr=function(e,t){return h.__assign(h.__assign({},Lt.createNode("flowSequenceItem",e)),{children:[t]})},pr=Object.defineProperty({createFlowSequenceItem:hr},"__esModule",{value:!0});var dr=function(e,t){var n=Gn.extractComments(e.cstNode.items,t),r=tr.groupCstFlowCollectionItems(n),o=e.items.map((function(e,n){if("PAIR"!==e.type){var o=t.transformNode(e);return pr.createFlowSequenceItem(An.createPosition(o.position.start,o.position.end),o)}var i=r[n],s=zn.getFlowMapItemAdditionalRanges(i),a=s.additionalKeyRange,c=s.additionalValueRange;return ar.transformAstPair(e,t,qn.createFlowMappingItem,a,c)})),i=n[0],s=Cn.getLast(n);return fr.createFlowSequence(t.transformRange({origStart:i.origOffset,origEnd:s.origOffset+1}),t.transformContent(e),o)},gr=Object.defineProperty({transformFlowSeq:dr},"__esModule",{value:!0});var mr=function(e,t,n){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("mapping",e)),Rt.createLeadingCommentAttachable()),t),{children:n})},yr=Object.defineProperty({createMapping:mr},"__esModule",{value:!0});var vr=function(e,t,n){return h.__assign(h.__assign(h.__assign({},Lt.createNode("mappingItem",e)),Rt.createLeadingCommentAttachable()),{children:[t,n]})},br=Object.defineProperty({createMappingItem:vr},"__esModule",{value:!0});var wr=function(e,t){var n=e.cstNode;n.items.filter((function(e){return"MAP_KEY"===e.type||"MAP_VALUE"===e.type})).forEach((function(e){return vn.extractPropComments(e,t)}));var r=function(e){for(var t=[],n=Xn.createSlicer(e,0),r=!1,o=0;o<e.length;o++){"MAP_VALUE"!==e[o].type?(r&&t.push(n(o)),r=!0):(t.push(n(o+1)),r=!1)}r&&t.push(n(1/0));return t}(Gn.extractComments(n.items,t)),o=e.items.map((function(e,n){var o=r[n],i="MAP_VALUE"===o[0].type?[null,o[0].range]:[o[0].range,1===o.length?null:o[1].range],s=i[0],a=i[1];return ar.transformAstPair(e,t,br.createMappingItem,s,a)}));return yr.createMapping(An.createPosition(o[0].position.start,Cn.getLast(o).position.end),t.transformContent(e),o)};var _r=Object.defineProperty({transformMap:wr},"__esModule",{value:!0});var Er=function(e,t,n){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("plain",e)),Yt.createCommentAttachable()),t),{value:n})},Sr=Object.defineProperty({createPlain:Er},"__esModule",{value:!0});var Or=function(e,t,n){for(var r=t;r>=0;r--)if(n.test(e[r]))return r;return-1},Ar=Object.defineProperty({findLastCharIndex:Or},"__esModule",{value:!0});var Mr=function(e,t){var n=e.cstNode;return Sr.createPlain(t.transformRange({origStart:n.valueRange.origStart,origEnd:Ar.findLastCharIndex(t.text,n.valueRange.origEnd-1,/\S/)+1}),t.transformContent(e),n.strValue)},Lr=Object.defineProperty({transformPlain:Mr},"__esModule",{value:!0});var Nr=function(e){return h.__assign(h.__assign({},e),{type:"quoteDouble"})},Tr=Object.defineProperty({createQuoteDouble:Nr},"__esModule",{value:!0});var Pr=function(e,t,n){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("quoteValue",e)),t),Yt.createCommentAttachable()),{value:n})},Cr=Object.defineProperty({createQuoteValue:Pr},"__esModule",{value:!0});var xr=function(e,t){var n=e.cstNode;return Cr.createQuoteValue(t.transformRange(n.valueRange),t.transformContent(e),n.strValue)},Rr=Object.defineProperty({transformAstQuoteValue:xr},"__esModule",{value:!0});var Ir=function(e,t){return Tr.createQuoteDouble(Rr.transformAstQuoteValue(e,t))},kr=Object.defineProperty({transformQuoteDouble:Ir},"__esModule",{value:!0});var Br=function(e){return h.__assign(h.__assign({},e),{type:"quoteSingle"})},Yr=Object.defineProperty({createQuoteSingle:Br},"__esModule",{value:!0});var jr=function(e,t){return Yr.createQuoteSingle(Rr.transformAstQuoteValue(e,t))},$r=Object.defineProperty({transformQuoteSingle:jr},"__esModule",{value:!0});var Dr=function(e,t,n){return h.__assign(h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("sequence",e)),Rt.createLeadingCommentAttachable()),Ln.createEndCommentAttachable()),t),{children:n})},Fr=Object.defineProperty({createSequence:Dr},"__esModule",{value:!0});var Ur=function(e,t){return h.__assign(h.__assign(h.__assign(h.__assign({},Lt.createNode("sequenceItem",e)),Yt.createCommentAttachable()),Ln.createEndCommentAttachable()),{children:t?[t]:[]})},Wr=Object.defineProperty({createSequenceItem:Ur},"__esModule",{value:!0});var Kr=function(e,t){var n=Gn.extractComments(e.cstNode.items,t).map((function(n,r){vn.extractPropComments(n,t);var o=t.transformNode(e.items[r]);return Wr.createSequenceItem(An.createPosition(t.transformOffset(n.valueRange.origStart),null===o?t.transformOffset(n.valueRange.origStart+1):o.position.end),o)}));return Fr.createSequence(An.createPosition(n[0].position.start,Cn.getLast(n).position.end),t.transformContent(e),n)},Vr=Object.defineProperty({transformSeq:Kr},"__esModule",{value:!0});var Qr=function(e,t){if(null===e||void 0===e.type&&null===e.value)return null;switch(e.type){case"ALIAS":return Ft.transformAlias(e,t);case"BLOCK_FOLDED":return cn.transformBlockFolded(e,t);case"BLOCK_LITERAL":return hn.transformBlockLiteral(e,t);case"COMMENT":return dn.transformComment(e,t);case"DIRECTIVE":return wn.transformDirective(e,t);case"DOCUMENT":return Fn.transformDocument(e,t);case"FLOW_MAP":return ur.transformFlowMap(e,t);case"FLOW_SEQ":return gr.transformFlowSeq(e,t);case"MAP":return _r.transformMap(e,t);case"PLAIN":return Lr.transformPlain(e,t);case"QUOTE_DOUBLE":return kr.transformQuoteDouble(e,t);case"QUOTE_SINGLE":return $r.transformQuoteSingle(e,t);case"SEQ":return Vr.transformSeq(e,t);default:throw new Error("Unexpected node type "+e.type)}},qr=Object.defineProperty({transformNode:Qr},"__esModule",{value:!0});var Jr=function(e,t,n){var r=new SyntaxError(e);return r.name="YAMLSyntaxError",r.source=t,r.position=n,r},Gr=Object.defineProperty({createError:Jr},"__esModule",{value:!0});var Hr=function(e,t){var n=e.source.range||e.source.valueRange;return Gr.createError(e.message,t.text,t.transformRange(n))},zr=Object.defineProperty({transformError:Hr},"__esModule",{value:!0});var Zr=function(e,t,n){return{offset:e,line:t,column:n}},Xr=Object.defineProperty({createPoint:Zr},"__esModule",{value:!0});var eo=function(e,t){e<0?e=0:e>t.text.length&&(e=t.text.length);var n=t.locator.locationForIndex(e);return Xr.createPoint(e,n.line+1,n.column+1)},to=Object.defineProperty({transformOffset:eo},"__esModule",{value:!0});var no=function(e,t){return An.createPosition(t.transformOffset(e.origStart),t.transformOffset(e.origEnd))},ro=Object.defineProperty({transformRange:no},"__esModule",{value:!0}),oo=!0;var io=function(e){if(!e.setOrigRanges()){var t=function(e){return function(e){return"number"==typeof e.start}(e)?(e.origStart=e.start,e.origEnd=e.end,oo):function(e){return"number"==typeof e.offset}(e)?(e.origOffset=e.offset,oo):void 0};e.forEach((function(e){return so(e,t)}))}};function so(e,t){if(e&&"object"==typeof e&&t(e)!==oo)for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if("context"!==o&&"error"!==o){var i=e[o];Array.isArray(i)?i.forEach((function(e){return so(e,t)})):so(i,t)}}}var ao=Object.defineProperty({addOrigRange:io},"__esModule",{value:!0});var co=function e(t){if("children"in t){if(1===t.children.length){var n=t.children[0];if("plain"===n.type&&null===n.tag&&null===n.anchor&&""===n.value)return t.children.splice(0,1),t}t.children.forEach(e)}return t},uo=Object.defineProperty({removeFakeNodes:co},"__esModule",{value:!0});var lo=function(e,t,n,r){var o=t(e);return function(t){r(o,t)&&n(e,o=t)}},fo=Object.defineProperty({createUpdater:lo},"__esModule",{value:!0});var ho=function e(t){if(null!==t&&"children"in t){var n=t.children;if(n.forEach(e),"document"===t.type){var r=t.children,o=r[0],i=r[1];o.position.start.offset===o.position.end.offset?o.position.start=o.position.end=i.position.start:i.position.start.offset===i.position.end.offset&&(i.position.start=i.position.end=o.position.end)}var s=fo.createUpdater(t.position,po,go,vo),a=fo.createUpdater(t.position,mo,yo,bo);"endComments"in t&&0!==t.endComments.length&&(s(t.endComments[0].position.start),a(Cn.getLast(t.endComments).position.end));var c=n.filter((function(e){return null!==e}));if(0!==c.length){var u=c[0],l=Cn.getLast(c);s(u.position.start),a(l.position.end),"leadingComments"in u&&0!==u.leadingComments.length&&s(u.leadingComments[0].position.start),"tag"in u&&u.tag&&s(u.tag.position.start),"anchor"in u&&u.anchor&&s(u.anchor.position.start),"trailingComment"in l&&l.trailingComment&&a(l.trailingComment.position.end)}}};function po(e){return e.start}function go(e,t){e.start=t}function mo(e){return e.end}function yo(e,t){e.end=t}function vo(e,t){return t.offset<e.offset}function bo(e,t){return t.offset>e.offset}var wo=Object.defineProperty({updatePositions:ho},"__esModule",{value:!0});const _o={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Eo={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"};function So(e){const t=[0];let n=e.indexOf("\n");for(;-1!==n;)n+=1,t.push(n),n=e.indexOf("\n",n);return t}function Oo(e){let t,n;return"string"==typeof e?(t=So(e),n=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=So(e.context.src)),t=e.lineStarts,n=e.context.src)),{lineStarts:t,src:n}}function Ao(e,t){if("number"!=typeof e||e<0)return null;const{lineStarts:n,src:r}=Oo(t);if(!n||!r||e>r.length)return null;for(let t=0;t<n.length;++t){const r=n[t];if(e<r)return{line:t,col:e-n[t-1]+1};if(e===r)return{line:t+1,col:1}}const o=n.length;return{line:o,col:e-n[o-1]+1}}function Mo({start:e,end:t},n,r=80){let o=function(e,t){const{lineStarts:n,src:r}=Oo(t);if(!n||!(e>=1)||e>n.length)return null;const o=n[e-1];let i=n[e];for(;i&&i>o&&"\n"===r[i-1];)--i;return r.slice(o,i)}(e.line,n);if(!o)return null;let{col:i}=e;if(o.length>r)if(i<=r-10)o=o.substr(0,r-1)+"\u2026";else{const e=Math.round(r/2);o.length>i+e&&(o=o.substr(0,i+e-1)+"\u2026"),i-=o.length-r,o="\u2026"+o.substr(1-r)}let s=1,a="";t&&(t.line===e.line&&i+(t.col-e.col)<=r+1?s=t.col-e.col:(s=Math.min(o.length+1,r)-i,a="\u2026"));return`${o}\n${i>1?" ".repeat(i-1):""}${"^".repeat(s)}${a}`}class Lo{static copy(e){return new Lo(e.start,e.end)}constructor(e,t){this.start=e,this.end=t||e}isEmpty(){return"number"!=typeof this.start||!this.end||this.end<=this.start}setOrigRange(e,t){const{start:n,end:r}=this;if(0===e.length||r<=e[0])return this.origStart=n,this.origEnd=r,t;let o=t;for(;o<e.length&&!(e[o]>n);)++o;this.origStart=n+o;const i=o;for(;o<e.length&&!(e[o]>=r);)++o;return this.origEnd=r+o,i}}class No{static addStringTerminator(e,t,n){if("\n"===n[n.length-1])return n;const r=No.endOfWhiteSpace(e,t);return r>=e.length||"\n"===e[r]?n+"\n":n}static atDocumentBoundary(e,t,n){const r=e[t];if(!r)return!0;const o=e[t-1];if(o&&"\n"!==o)return!1;if(n){if(r!==n)return!1}else if(r!==_o.DIRECTIVES_END&&r!==_o.DOCUMENT_END)return!1;const i=e[t+1],s=e[t+2];if(i!==r||s!==r)return!1;const a=e[t+3];return!a||"\n"===a||"\t"===a||" "===a}static endOfIdentifier(e,t){let n=e[t];const r="<"===n,o=r?["\n","\t"," ",">"]:["\n","\t"," ","[","]","{","}",","];for(;n&&-1===o.indexOf(n);)n=e[t+=1];return r&&">"===n&&(t+=1),t}static endOfIndent(e,t){let n=e[t];for(;" "===n;)n=e[t+=1];return t}static endOfLine(e,t){let n=e[t];for(;n&&"\n"!==n;)n=e[t+=1];return t}static endOfWhiteSpace(e,t){let n=e[t];for(;"\t"===n||" "===n;)n=e[t+=1];return t}static startOfLine(e,t){let n=e[t-1];if("\n"===n)return t;for(;n&&"\n"!==n;)n=e[t-=1];return t+1}static endOfBlockIndent(e,t,n){const r=No.endOfIndent(e,n);if(r>n+t)return r;{const t=No.endOfWhiteSpace(e,r),n=e[t];if(!n||"\n"===n)return t}return null}static atBlank(e,t,n){const r=e[t];return"\n"===r||"\t"===r||" "===r||n&&!r}static nextNodeIsIndented(e,t,n){return!(!e||t<0)&&(t>0||n&&"-"===e)}static normalizeOffset(e,t){const n=e[t];return n?"\n"!==n&&"\n"===e[t-1]?t-1:No.endOfWhiteSpace(e,t):t}static foldNewline(e,t,n){let r=0,o=!1,i="",s=e[t+1];for(;" "===s||"\t"===s||"\n"===s;){switch(s){case"\n":r=0,t+=1,i+="\n";break;case"\t":r<=n&&(o=!0),t=No.endOfWhiteSpace(e,t+2)-1;break;case" ":r+=1,t+=1}s=e[t+1]}return i||(i=" "),s&&r<=n&&(o=!0),{fold:i,offset:t,error:o}}constructor(e,t,n){Object.defineProperty(this,"context",{value:n||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=t||[],this.type=e,this.value=null}getPropValue(e,t,n){if(!this.context)return null;const{src:r}=this.context,o=this.props[e];return o&&r[o.start]===t?r.slice(o.start+(n?1:0),o.end):null}get anchor(){for(let e=0;e<this.props.length;++e){const t=this.getPropValue(e,_o.ANCHOR,!0);if(null!=t)return t}return null}get comment(){const e=[];for(let t=0;t<this.props.length;++t){const n=this.getPropValue(t,_o.COMMENT,!0);null!=n&&e.push(n)}return e.length>0?e.join("\n"):null}commentHasRequiredWhitespace(e){const{src:t}=this.context;if(this.header&&e===this.header.end)return!1;if(!this.valueRange)return!1;const{end:n}=this.valueRange;return e!==n||No.atBlank(t,n-1)}get hasComment(){if(this.context){const{src:e}=this.context;for(let t=0;t<this.props.length;++t)if(e[this.props[t].start]===_o.COMMENT)return!0}return!1}get hasProps(){if(this.context){const{src:e}=this.context;for(let t=0;t<this.props.length;++t)if(e[this.props[t].start]!==_o.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return-1!==[Eo.FLOW_MAP,Eo.FLOW_SEQ,Eo.QUOTE_DOUBLE,Eo.QUOTE_SINGLE].indexOf(this.type)}get rangeAsLinePos(){if(!this.range||!this.context)return;const e=Ao(this.range.start,this.context.root);if(!e)return;return{start:e,end:Ao(this.range.end,this.context.root)}}get rawValue(){if(!this.valueRange||!this.context)return null;const{start:e,end:t}=this.valueRange;return this.context.src.slice(e,t)}get tag(){for(let e=0;e<this.props.length;++e){const t=this.getPropValue(e,_o.TAG,!1);if(null!=t){if("<"===t[1])return{verbatim:t.slice(2,-1)};{const[e,n,r]=t.match(/^(.*!)([^!]*)$/);return{handle:n,suffix:r}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;const{start:e,end:t}=this.valueRange,{src:n}=this.context;for(let r=e;r<t;++r)if("\n"===n[r])return!0;return!1}parseComment(e){const{src:t}=this.context;if(t[e]===_o.COMMENT){const n=No.endOfLine(t,e+1),r=new Lo(e,n);return this.props.push(r),n}return e}setOrigRanges(e,t){return this.range&&(t=this.range.setOrigRange(e,t)),this.valueRange&&this.valueRange.setOrigRange(e,t),this.props.forEach((n=>n.setOrigRange(e,t))),t}toString(){const{context:{src:e},range:t,value:n}=this;if(null!=n)return n;const r=e.slice(t.start,t.end);return No.addStringTerminator(e,t.end,r)}}class To extends Error{constructor(e,t,n){if(!(n&&t instanceof No))throw new Error(`Invalid arguments for new ${e}`);super(),this.name=e,this.message=n,this.source=t}makePretty(){if(!this.source)return;this.nodeType=this.source.type;const e=this.source.context&&this.source.context.root;if("number"==typeof this.offset){this.range=new Lo(this.offset,this.offset+1);const t=e&&Ao(this.offset,e);if(t){const e={line:t.line,col:t.col+1};this.linePos={start:t,end:e}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){const{line:t,col:n}=this.linePos.start;this.message+=` at line ${t}, column ${n}`;const r=e&&Mo(this.linePos,e);r&&(this.message+=`:\n\n${r}\n`)}delete this.source}}class Po extends To{constructor(e,t){super("YAMLSemanticError",e,t)}}class Co extends No{static endOfLine(e,t,n){let r=e[t],o=t;for(;r&&"\n"!==r&&(!n||"["!==r&&"]"!==r&&"{"!==r&&"}"!==r&&","!==r);){const t=e[o+1];if(":"===r&&(!t||"\n"===t||"\t"===t||" "===t||n&&","===t))break;if((" "===r||"\t"===r)&&"#"===t)break;o+=1,r=t}return o}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:t}=this.valueRange;const{src:n}=this.context;let r=n[t-1];for(;e<t&&("\n"===r||"\t"===r||" "===r);)r=n[--t-1];let o="";for(let r=e;r<t;++r){const e=n[r];if("\n"===e){const{fold:e,offset:t}=No.foldNewline(n,r,-1);o+=e,r=t}else if(" "===e||"\t"===e){const i=r;let s=n[r+1];for(;r<t&&(" "===s||"\t"===s);)r+=1,s=n[r+1];"\n"!==s&&(o+=r>i?n.slice(i,r+1):e)}else o+=e}const i=n[e];switch(i){case"\t":return{errors:[new Po(this,"Plain value cannot start with a tab character")],str:o};case"@":case"`":return{errors:[new Po(this,`Plain value cannot start with reserved character ${i}`)],str:o};default:return o}}parseBlockValue(e){const{indent:t,inFlow:n,src:r}=this.context;let o=e,i=e;for(let e=r[o];"\n"===e&&!No.atDocumentBoundary(r,o+1);e=r[o]){const e=No.endOfBlockIndent(r,t,o+1);if(null===e||"#"===r[e])break;"\n"===r[e]?o=e:(i=Co.endOfLine(r,e,n),o=i)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=i,i}parse(e,t){this.context=e;const{inFlow:n,src:r}=e;let o=t;const i=r[o];return i&&"#"!==i&&"\n"!==i&&(o=Co.endOfLine(r,t,n)),this.valueRange=new Lo(t,o),o=No.endOfWhiteSpace(r,o),o=this.parseComment(o),this.hasComment&&!this.valueRange.isEmpty()||(o=this.parseBlockValue(o)),o}}var xo={Char:_o,Node:No,PlainValue:Co,Range:Lo,Type:Eo,YAMLError:To,YAMLReferenceError:class extends To{constructor(e,t){super("YAMLReferenceError",e,t)}},YAMLSemanticError:Po,YAMLSyntaxError:class extends To{constructor(e,t){super("YAMLSyntaxError",e,t)}},YAMLWarning:class extends To{constructor(e,t){super("YAMLWarning",e,t)}},_defineProperty:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},defaultTagPrefix:"tag:yaml.org,2002:",defaultTags:{MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"}};class Ro extends xo.Node{constructor(){super(xo.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,t){return this.context=e,this.range=new xo.Range(t,t+1),t+1}}class Io extends xo.Node{constructor(e,t){super(e,t),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,t){this.context=e;const{parseNode:n,src:r}=e;let{atLineStart:o,lineStart:i}=e;o||this.type!==xo.Type.SEQ_ITEM||(this.error=new xo.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));const s=o?t-i:e.indent;let a=xo.Node.endOfWhiteSpace(r,t+1),c=r[a];const u="#"===c,l=[];let f=null;for(;"\n"===c||"#"===c;){if("#"===c){const e=xo.Node.endOfLine(r,a+1);l.push(new xo.Range(a,e)),a=e}else{o=!0,i=a+1;"\n"===r[xo.Node.endOfWhiteSpace(r,i)]&&0===l.length&&(f=new Ro,i=f.parse({src:r},i)),a=xo.Node.endOfIndent(r,i)}c=r[a]}if(xo.Node.nextNodeIsIndented(c,a-(i+s),this.type!==xo.Type.SEQ_ITEM)?this.node=n({atLineStart:o,inCollection:!1,indent:s,lineStart:i,parent:this},a):c&&i>t+1&&(a=i-1),this.node){if(f){const t=e.parent.items||e.parent.contents;t&&t.push(f)}l.length&&Array.prototype.push.apply(this.props,l),a=this.node.range.end}else if(u){const e=l[0];this.props.push(e),a=e.end}else a=xo.Node.endOfLine(r,t+1);const h=this.node?this.node.valueRange.end:a;return this.valueRange=new xo.Range(t,h),a}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.node?this.node.setOrigRanges(e,t):t}toString(){const{context:{src:e},node:t,range:n,value:r}=this;if(null!=r)return r;const o=t?e.slice(n.start,t.range.start)+String(t):e.slice(n.start,n.end);return xo.Node.addStringTerminator(e,n.end,o)}}class ko extends xo.Node{constructor(){super(xo.Type.COMMENT)}parse(e,t){this.context=e;const n=this.parseComment(t);return this.range=new xo.Range(t,n),n}}function Bo(e){let t=e;for(;t instanceof Io;)t=t.node;if(!(t instanceof Yo))return null;const n=t.items.length;let r=-1;for(let e=n-1;e>=0;--e){const n=t.items[e];if(n.type===xo.Type.COMMENT){const{indent:t,lineStart:o}=n.context;if(t>0&&n.range.start>=o+t)break;r=e}else{if(n.type!==xo.Type.BLANK_LINE)break;r=e}}if(-1===r)return null;const o=t.items.splice(r,n-r),i=o[0].range.start;for(;t.range.end=i,t.valueRange&&t.valueRange.end>i&&(t.valueRange.end=i),t!==e;)t=t.context.parent;return o}class Yo extends xo.Node{static nextContentHasIndent(e,t,n){const r=xo.Node.endOfLine(e,t)+1,o=e[t=xo.Node.endOfWhiteSpace(e,r)];return!!o&&(t>=r+n||("#"===o||"\n"===o)&&Yo.nextContentHasIndent(e,t,n))}constructor(e){super(e.type===xo.Type.SEQ_ITEM?xo.Type.SEQ:xo.Type.MAP);for(let t=e.props.length-1;t>=0;--t)if(e.props[t].start<e.context.lineStart){this.props=e.props.slice(0,t+1),e.props=e.props.slice(t+1);const n=e.props[0]||e.valueRange;e.range.start=n.start;break}this.items=[e];const t=Bo(e);t&&Array.prototype.push.apply(this.items,t)}get includesTrailingLines(){return this.items.length>0}parse(e,t){this.context=e;const{parseNode:n,src:r}=e;let o=xo.Node.startOfLine(r,t);const i=this.items[0];i.context.parent=this,this.valueRange=xo.Range.copy(i.valueRange);const s=i.range.start-i.context.lineStart;let a=t;a=xo.Node.normalizeOffset(r,a);let c=r[a],u=xo.Node.endOfWhiteSpace(r,o)===a,l=!1;for(;c;){for(;"\n"===c||"#"===c;){if(u&&"\n"===c&&!l){const e=new Ro;if(a=e.parse({src:r},a),this.valueRange.end=a,a>=r.length){c=null;break}this.items.push(e),a-=1}else if("#"===c){if(a<o+s&&!Yo.nextContentHasIndent(r,a,s))return a;const e=new ko;if(a=e.parse({indent:s,lineStart:o,src:r},a),this.items.push(e),this.valueRange.end=a,a>=r.length){c=null;break}}if(o=a+1,a=xo.Node.endOfIndent(r,o),xo.Node.atBlank(r,a)){const e=xo.Node.endOfWhiteSpace(r,a),t=r[e];t&&"\n"!==t&&"#"!==t||(a=e)}c=r[a],u=!0}if(!c)break;if(a!==o+s&&(u||":"!==c)){if(a<o+s){o>t&&(a=o);break}if(!this.error){const e="All collection items must start at the same column";this.error=new xo.YAMLSyntaxError(this,e)}}if(i.type===xo.Type.SEQ_ITEM){if("-"!==c){o>t&&(a=o);break}}else if("-"===c&&!this.error){const e=r[a+1];if(!e||"\n"===e||"\t"===e||" "===e){const e="A collection cannot be both a mapping and a sequence";this.error=new xo.YAMLSyntaxError(this,e)}}const e=n({atLineStart:u,inCollection:!0,indent:s,lineStart:o,parent:this},a);if(!e)return a;if(this.items.push(e),this.valueRange.end=e.valueRange.end,a=xo.Node.normalizeOffset(r,e.range.end),c=r[a],u=!1,l=e.includesTrailingLines,c){let e=a-1,t=r[e];for(;" "===t||"\t"===t;)t=r[--e];"\n"===t&&(o=e+1,u=!0)}const f=Bo(e);f&&Array.prototype.push.apply(this.items,f)}return a}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.items.forEach((n=>{t=n.setOrigRanges(e,t)})),t}toString(){const{context:{src:e},items:t,range:n,value:r}=this;if(null!=r)return r;let o=e.slice(n.start,t[0].range.start)+String(t[0]);for(let e=1;e<t.length;++e){const n=t[e],{atLineStart:r,indent:i}=n.context;if(r)for(let e=0;e<i;++e)o+=" ";o+=String(n)}return xo.Node.addStringTerminator(e,n.end,o)}}class jo extends xo.Node{constructor(){super(xo.Type.DIRECTIVE),this.name=null}get parameters(){const e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){const{src:t}=this.context;let n=e,r=t[n];for(;r&&"\n"!==r&&"\t"!==r&&" "!==r;)r=t[n+=1];return this.name=t.slice(e,n),n}parseParameters(e){const{src:t}=this.context;let n=e,r=t[n];for(;r&&"\n"!==r&&"#"!==r;)r=t[n+=1];return this.valueRange=new xo.Range(e,n),n}parse(e,t){this.context=e;let n=this.parseName(t+1);return n=this.parseParameters(n),n=this.parseComment(n),this.range=new xo.Range(t,n),n}}class $o extends xo.Node{static startCommentOrEndBlankLine(e,t){const n=xo.Node.endOfWhiteSpace(e,t),r=e[n];return"#"===r||"\n"===r?n:t}constructor(){super(xo.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){const{src:t}=this.context;this.directives=[];let n=!0,r=!1,o=e;for(;!xo.Node.atDocumentBoundary(t,o,xo.Char.DIRECTIVES_END);)switch(o=$o.startCommentOrEndBlankLine(t,o),t[o]){case"\n":if(n){const e=new Ro;o=e.parse({src:t},o),o<t.length&&this.directives.push(e)}else o+=1,n=!0;break;case"#":{const e=new ko;o=e.parse({src:t},o),this.directives.push(e),n=!1}break;case"%":{const e=new jo;o=e.parse({parent:this,src:t},o),this.directives.push(e),r=!0,n=!1}break;default:return r?this.error=new xo.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),o}return t[o]?(this.directivesEndMarker=new xo.Range(o,o+3),o+3):(r?this.error=new xo.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),o)}parseContents(e){const{parseNode:t,src:n}=this.context;this.contents||(this.contents=[]);let r=e;for(;"-"===n[r-1];)r-=1;let o=xo.Node.endOfWhiteSpace(n,e),i=r===e;for(this.valueRange=new xo.Range(o);!xo.Node.atDocumentBoundary(n,o,xo.Char.DOCUMENT_END);){switch(n[o]){case"\n":if(i){const e=new Ro;o=e.parse({src:n},o),o<n.length&&this.contents.push(e)}else o+=1,i=!0;r=o;break;case"#":{const e=new ko;o=e.parse({src:n},o),this.contents.push(e),i=!1}break;default:{const e=xo.Node.endOfIndent(n,o),s=t({atLineStart:i,indent:-1,inFlow:!1,inCollection:!1,lineStart:r,parent:this},e);if(!s)return this.valueRange.end=e;this.contents.push(s),o=s.range.end,i=!1;const a=Bo(s);a&&Array.prototype.push.apply(this.contents,a)}}o=$o.startCommentOrEndBlankLine(n,o)}if(this.valueRange.end=o,n[o]&&(this.documentEndMarker=new xo.Range(o,o+3),o+=3,n[o])){if(o=xo.Node.endOfWhiteSpace(n,o),"#"===n[o]){const e=new ko;o=e.parse({src:n},o),this.contents.push(e)}switch(n[o]){case"\n":o+=1;break;case void 0:break;default:this.error=new xo.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return o}parse(e,t){e.root=this,this.context=e;const{src:n}=e;let r=65279===n.charCodeAt(t)?t+1:t;return r=this.parseDirectives(r),r=this.parseContents(r),r}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.directives.forEach((n=>{t=n.setOrigRanges(e,t)})),this.directivesEndMarker&&(t=this.directivesEndMarker.setOrigRange(e,t)),this.contents.forEach((n=>{t=n.setOrigRanges(e,t)})),this.documentEndMarker&&(t=this.documentEndMarker.setOrigRange(e,t)),t}toString(){const{contents:e,directives:t,value:n}=this;if(null!=n)return n;let r=t.join("");return e.length>0&&((t.length>0||e[0].type===xo.Type.COMMENT)&&(r+="---\n"),r+=e.join("")),"\n"!==r[r.length-1]&&(r+="\n"),r}}class Do extends xo.Node{parse(e,t){this.context=e;const{src:n}=e;let r=xo.Node.endOfIdentifier(n,t+1);return this.valueRange=new xo.Range(t+1,r),r=xo.Node.endOfWhiteSpace(n,r),r=this.parseComment(r),r}}const Fo="CLIP",Uo="KEEP",Wo="STRIP";class Ko extends xo.Node{constructor(e,t){super(e,t),this.blockIndent=null,this.chomping=Fo,this.header=null}get includesTrailingLines(){return this.chomping===Uo}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:t}=this.valueRange;const{indent:n,src:r}=this.context;if(this.valueRange.isEmpty())return"";let o=null,i=r[t-1];for(;"\n"===i||"\t"===i||" "===i;){if(t-=1,t<=e){if(this.chomping===Uo)break;return""}"\n"===i&&(o=t),i=r[t-1]}let s=t+1;o&&(this.chomping===Uo?(s=o,t=this.valueRange.end):t=o);const a=n+this.blockIndent,c=this.type===xo.Type.BLOCK_FOLDED;let u=!0,l="",f="",h=!1;for(let n=e;n<t;++n){for(let e=0;e<a&&" "===r[n];++e)n+=1;const e=r[n];if("\n"===e)"\n"===f?l+="\n":f="\n";else{const o=xo.Node.endOfLine(r,n),i=r.slice(n,o);n=o,c&&(" "===e||"\t"===e)&&n<s?(" "===f?f="\n":h||u||"\n"!==f||(f="\n\n"),l+=f+i,f=o<t&&r[o]||"",h=!0):(l+=f+i,f=c&&n<s?" ":"\n",h=!1),u&&""!==i&&(u=!1)}}return this.chomping===Wo?l:l+"\n"}parseBlockHeader(e){const{src:t}=this.context;let n=e+1,r="";for(;;){const o=t[n];switch(o){case"-":this.chomping=Wo;break;case"+":this.chomping=Uo;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r+=o;break;default:return this.blockIndent=Number(r)||null,this.header=new xo.Range(e,n),n}n+=1}}parseBlockValue(e){const{indent:t,src:n}=this.context,r=!!this.blockIndent;let o=e,i=e,s=1;for(let e=n[o];"\n"===e&&(o+=1,!xo.Node.atDocumentBoundary(n,o));e=n[o]){const e=xo.Node.endOfBlockIndent(n,t,o);if(null===e)break;const a=n[e],c=e-(o+t);if(this.blockIndent){if(a&&"\n"!==a&&c<this.blockIndent){if("#"===n[e])break;if(!this.error){const e=`Block scalars must not be less indented than their ${r?"explicit indentation indicator":"first line"}`;this.error=new xo.YAMLSemanticError(this,e)}}}else if("\n"!==n[e]){if(c<s){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new xo.YAMLSemanticError(this,e)}this.blockIndent=c}else c>s&&(s=c);o="\n"===n[e]?e:i=xo.Node.endOfLine(n,e)}return this.chomping!==Uo&&(o=n[i]?i+1:i),this.valueRange=new xo.Range(e+1,o),o}parse(e,t){this.context=e;const{src:n}=e;let r=this.parseBlockHeader(t);return r=xo.Node.endOfWhiteSpace(n,r),r=this.parseComment(r),r=this.parseBlockValue(r),r}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.header?this.header.setOrigRange(e,t):t}}class Vo extends xo.Node{constructor(e,t){super(e,t),this.items=null}prevNodeIsJsonLike(e=this.items.length){const t=this.items[e-1];return!!t&&(t.jsonLike||t.type===xo.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,t){this.context=e;const{parseNode:n,src:r}=e;let{indent:o,lineStart:i}=e,s=r[t];this.items=[{char:s,offset:t}];let a=xo.Node.endOfWhiteSpace(r,t+1);for(s=r[a];s&&"]"!==s&&"}"!==s;){switch(s){case"\n":i=a+1;if("\n"===r[xo.Node.endOfWhiteSpace(r,i)]){const e=new Ro;i=e.parse({src:r},i),this.items.push(e)}if(a=xo.Node.endOfIndent(r,i),a<=i+o&&(s=r[a],a<i+o||"]"!==s&&"}"!==s)){const e="Insufficient indentation in flow collection";this.error=new xo.YAMLSemanticError(this,e)}break;case",":this.items.push({char:s,offset:a}),a+=1;break;case"#":{const e=new ko;a=e.parse({src:r},a),this.items.push(e)}break;case"?":case":":{const e=r[a+1];if("\n"===e||"\t"===e||" "===e||","===e||":"===s&&this.prevNodeIsJsonLike()){this.items.push({char:s,offset:a}),a+=1;break}}default:{const e=n({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:i,parent:this},a);if(!e)return this.valueRange=new xo.Range(t,a),a;this.items.push(e),a=xo.Node.normalizeOffset(r,e.range.end)}}a=xo.Node.endOfWhiteSpace(r,a),s=r[a]}return this.valueRange=new xo.Range(t,a+1),s&&(this.items.push({char:s,offset:a}),a=xo.Node.endOfWhiteSpace(r,a+1),a=this.parseComment(a)),a}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.items.forEach((n=>{if(n instanceof xo.Node)t=n.setOrigRanges(e,t);else if(0===e.length)n.origOffset=n.offset;else{let r=t;for(;r<e.length&&!(e[r]>n.offset);)++r;n.origOffset=n.offset+r,t=r}})),t}toString(){const{context:{src:e},items:t,range:n,value:r}=this;if(null!=r)return r;const o=t.filter((e=>e instanceof xo.Node));let i="",s=n.start;return o.forEach((t=>{const n=e.slice(s,t.range.start);s=t.range.end,i+=n+String(t),"\n"===i[i.length-1]&&"\n"!==e[s-1]&&"\n"===e[s]&&(s+=1)})),i+=e.slice(s,n.end),xo.Node.addStringTerminator(e,n.end,i)}}class Qo extends xo.Node{static endOfQuote(e,t){let n=e[t];for(;n&&'"'!==n;)n=e[t+="\\"===n?2:1];return t+1}get strValue(){if(!this.valueRange||!this.context)return null;const e=[],{start:t,end:n}=this.valueRange,{indent:r,src:o}=this.context;'"'!==o[n-1]&&e.push(new xo.YAMLSyntaxError(this,'Missing closing "quote'));let i="";for(l